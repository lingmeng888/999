const application = {};
application.languagePack = {
	'en-US': {
		'index': {
			'WELCOMETO': 'Welcome to'
			, 'LOGINPROMPTTEXT': 'Type a username to login or to create a new account.'
			, 'USERNAME': 'Username'
			, 'PASSWORD': 'Password'
			, 'CUSTOMERS': 'Customers'
			, 'TOTALATTACKS': 'Total attacks'
			, 'RUNNINGATTACKS': 'Running attacks'
			, 'USERS': 'Users'
			, 'ONLINEUSERS': 'Online users'
			, 'LINKS': 'Links'
			, 'CONTACT': 'Contact'
			, 'COPYRIGHT': 'Copyright'
			, 'COPYRIGHT_RIGHT_RESERVED': 'All rights reserved.'
			, 'LOGINAS': 'Login As'
			, 'YOURPASSWORD': 'Your Password'
			, 'REGISTERAS': 'Register a new account as'
			, 'NEWPASSWORD': 'Type a new secured password'
			, 'LOGINSUCCESS': 'Login success! Welcome back.'
			, 'LIVEATTACKS': 'Live Attacks'
			, 'MAXIMUMDURATION': 'Maximum Duration'
			, 'CONCURRENTS': 'Concurrents'
			, 'HUB': 'Hub'
			, 'DEPOSIT': 'Deposit'
			, 'EXPIRYDATE': 'Expiry date'
			, 'NETWORK': 'Network'
			, 'DAYSLEFT': 'days left'
			, 'PACKAGE': 'Package'
			, 'ACCOUNT': 'Account'
			, 'CHANGEPASSWORD': 'Change Password'
			, 'NEWPASSWORD': 'New Password'
			, 'UPDATE': 'Update'
			, 'SHOP': 'Shop'
			, 'SUPPORT': 'Support'
		}
		, 'user': {
			'tickets': {
				'NOT_REPLY_YET': 'Not reply yet.'
			}
		}
		, 'shop': {
			'text': {
				'MONTH': 'month'
				, 'SECOND_SHORT': 's'
				, 'PURCHASE': 'Purchase'
				, 'API_ACCESS': 'API Access'
				, 'NETWORK': 'Network'
				, 'ADD': 'Add'
				, 'STRENGTH': ['Standard', 'VIP', 'Elite', 'Ultimate']
			}
		}
		, 'attack': {
			'COUNTRY': 'Country'
			, 'COUNTRYCODE': 'Country code'
			, 'METHOD': 'Method'
			, 'REQUESTMETHOD': 'Requests method'
			, 'SETTINGS': 'Settings'
			, 'RATELIMITBYPASS': 'Ratelimit bypass'
			, 'HEADERS': 'Headers'
			, 'SET': 'Set'
			, 'PAYLOAD': 'Payload'
			, 'REQUESTPAYLOAD': 'Request payload'
			, 'OPTIONSSAVED': 'Options saved.'
			, 'HEADERNAME': 'Header name'
			, 'HEADERNAMESELECTION': 'Choose the header name'
			, 'HEADERVALUE': 'Header value'
			, 'HEADERVALUETIPS': 'TIP: Leave empty to remove header'
			, 'SETHEADERSUCCESS': 'was set successfully'
			, 'NEXT': 'Next'
			, 'DURATION': 'Duration'
			, 'TARGETADDRESS': 'Address'
			, 'SECONDS': 'Seconds'
			, 'OPTIONS': 'Options'
			, 'STRESS': 'Stress'
			, 'YOURATTACKS': 'Your Attacks'
		}
		, 'deposit': {
			'CRYPTOCURRENCY': 'Cryptocurrency'
			, 'PAYMENTMETHOD': 'Payment method'
			, 'AMOUNT': 'Amount'
			, 'BOTTOM_HINT': 'After completing the payment process, the funds will be added to your account automatically.'
			, 'BITCOIN_BUTTOM_HINT': 'After 1-2 Bitcoin confirmations of the transaction, the deposited amount will be automatically added to your account'
			, 'COPY_ADDRESS': 'Copy address'
			, 'COPY_AMOUNT': 'Copy amount'
		}
	}
	, 'zh-CN': {
		'index': {
			'WELCOMETO': 'æ¬¢è¿Žæ¥åˆ°'
			, 'LOGINPROMPTTEXT': 'è¾“å…¥ä¸€ä¸ªç”¨æˆ·åä»¥ç™»å½•æˆ–åˆ›å»ºè´¦æˆ·'
			, 'USERNAME': 'ç”¨æˆ·å'
			, 'PASSWORD': 'å¯†ç '
			, 'CUSTOMERS': 'å®¢æˆ·'
			, 'TOTALATTACKS': 'æ€»æ”»å‡»æ•°'
			, 'RUNNINGATTACKS': 'æ­£åœ¨æ”»å‡»'
			, 'USERS': 'ç”¨æˆ·'
			, 'ONLINEUSERS': 'åœ¨çº¿ç”¨æˆ·'
			, 'LINKS': 'é“¾æŽ¥'
			, 'CONTACT': 'è”ç³»'
			, 'COPYRIGHT': 'ç‰ˆæƒ'
			, 'COPYRIGHT_RIGHT_RESERVED': 'ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚'
			, 'LOGINAS': 'ç™»å½•ä¸º'
			, 'YOURPASSWORD': 'æ‚¨çš„å¯†ç '
			, 'REGISTERAS': 'æ³¨å†Œä¸€ä¸ªæ–°è´¦æˆ·ä¸º'
			, 'NEWPASSWORD': 'è¾“å…¥ä¸€ä¸ªæ–°çš„å®‰å…¨çš„å¯†ç '
			, 'LOGINSUCCESS': 'ç™»å½•æˆåŠŸï¼Œæ¬¢è¿Žå›žæ¥ï¼'
			, 'LIVEATTACKS': 'å®žæ—¶æ”»å‡»'
			, 'MAXIMUMDURATION': 'æœ€å¤§æ—¶é•¿'
			, 'CONCURRENTS': 'å¹¶å‘'
			, 'HUB': 'é—¨æˆ·'
			, 'DEPOSIT': 'å……å€¼'
			, 'EXPIRYDATE': 'è¿‡æœŸæ—¶é—´'
			, 'NETWORK': 'ç½‘ç»œ'
			, 'DAYSLEFT': 'å¤©å‰©ä½™'
			, 'PACKAGE': 'å¥—é¤'
			, 'ACCOUNT': 'è´¦æˆ·'
			, 'CHANGEPASSWORD': 'ä¿®æ”¹å¯†ç '
			, 'NEWPASSWORD': 'æ–°å¯†ç '
			, 'UPDATE': 'æ›´æ–°'
			, 'SHOP': 'å¥—é¤å•†åŸŽ'
			, 'SUPPORT': 'æ”¯æŒ'
		}
		, 'user': {
			'tickets': {
				'NOT_REPLY_YET': 'è¿˜æœªå›žå¤ã€‚'
			}
		}
		, 'shop': {
			'text': {
				'MONTH': 'æœˆ'
				, 'SECOND_SHORT': 'ç§’'
				, 'PURCHASE': 'è´­ä¹°'
				, 'API_ACCESS': 'API è®¿é—®æƒ'
				, 'NETWORK': 'ç½‘ç»œ'
				, 'ADD': 'å¢žåŠ '
				, 'STRENGTH': ['æ ‡å‡†', 'VIP', 'ç²¾è‹±', 'æ——èˆ°']
			}
		}
		, 'attack': {
			'COUNTRY': 'å›½å®¶'
			, 'COUNTRYCODE': 'å›½å®¶ä»£ç '
			, 'METHOD': 'æ”»å‡»æ–¹å¼'
			, 'REQUESTMETHOD': 'è¯·æ±‚æ–¹å¼'
			, 'SETTINGS': 'è®¾ç½®'
			, 'RATELIMITBYPASS': 'ç»•è¿‡é™æµ'
			, 'HEADERS': 'è¯·æ±‚å¤´'
			, 'SET': 'è®¾ç½®'
			, 'PAYLOAD': 'Payload'
			, 'REQUESTPAYLOAD': 'è¯·æ±‚ Payload'
			, 'OPTIONSSAVED': 'é€‰é¡¹å·²ä¿å­˜ã€‚'
			, 'HEADERNAME': 'è¯·æ±‚å¤´åç§°'
			, 'HEADERNAMESELECTION': 'é€‰æ‹©è¯·æ±‚å¤´åç§°'
			, 'HEADERVALUE': 'è¯·æ±‚å¤´å€¼'
			, 'HEADERVALUETIPS': 'æç¤ºï¼šç•™ç©ºå¯åˆ é™¤è¯·æ±‚å¤´'
			, 'SETHEADERSUCCESS': 'å·²æˆåŠŸè®¾ç½®'
			, 'NEXT': 'ä¸‹ä¸€æ­¥'
			, 'DURATION': 'æ—¶é•¿'
			, 'TARGETADDRESS': 'ç›®æ ‡åœ°å€'
			, 'SECONDS': 'ç§’æ•°'
			, 'OPTIONS': 'é€‰é¡¹'
			, 'STRESS': 'ç»™è€å­/è€å¨˜å¹²ï¼'
			, 'YOURATTACKS': 'æ‚¨çš„æ”»å‡»'
		}
		, 'deposit': {
			'CRYPTOCURRENCY': 'åŠ å¯†è´§å¸'
			, 'PAYMENTMETHOD': 'æ”¯ä»˜æ–¹å¼'
			, 'AMOUNT': 'é‡‘é¢'
			, 'BOTTOM_HINT': 'åœ¨å®Œæˆæ”¯ä»˜è¿‡ç¨‹åŽï¼Œå……å€¼é‡‘é¢å°†è¢«è‡ªåŠ¨åŠ å…¥æ‚¨çš„è´¦æˆ·ã€‚'
			, 'BITCOIN_BUTTOM_HINT': 'åœ¨æ‚¨çš„æ¯”ç‰¹å¸æ”¯ä»˜èŽ·å¾— 1-2 ä¸ªç¡®è®¤ä¹‹åŽï¼Œä½™é¢å°†è‡ªåŠ¨æ·»åŠ è‡³æ‚¨çš„è´¦æˆ·ã€‚'
			, 'COPY_ADDRESS': 'å¤åˆ¶åœ°å€'
			, 'COPY_AMOUNT': 'å¤åˆ¶é‡‘é¢'
		}
	}
};
application.common = {
	'function': {
		'getLanguage': function () {
			const browserLanguage = window.navigator.userLanguage || window.navigator.language;
			const captures = window.location.search.match(/lang=([A-Za-z\-]{5})/);
			if (!captures) {
				return (application.common.constant.availableLanguages.indexOf(browserLanguage) !== -1) ? browserLanguage : 'en-US';
			};
			return (application.common.constant.availableLanguages.indexOf(captures[1]) !== -1) ? captures[1] : 'en-US';
		}
	}
	, 'constant': {
		'availableLanguages': ['en-US', 'zh-CN']
	}
};
application.component = {};
application.component.deposit = {
	'function': {
		'updatePresetPaymentAmounts': function (lower, upper) {
			const amountsBox = document.getElementById('amounts-box');
			amountsBox.innerHTML = '';
			for (const tab of app.presetPaymentAmounts) {
				let showedCount = 0;
				const tabDiv = document.createElement('div');
				tabDiv.className = 'amounts col-sm';
				for (const amount of tab) {
					if (amount < lower || amount > upper) {
						continue;
					}
					const button = document.createElement('button');
					button.className = 'amount-box';
					button.onclick = function () {
						updateAmountValue(this.innerText)
					};
					const amountText = document.createElement('a');
					const fa = document.createElement('i');
					fa.className = 'fad fa-usd-circle';
					button.appendChild(fa);
					amountText.innerText = amount;
					button.appendChild(amountText);
					tabDiv.appendChild(button);
					showedCount++;
				}
				if (showedCount === 0) {
					continue;
				}
				amountsBox.appendChild(tabDiv);
			}
		}
		, 'updatePaymentMethods': function () {
			const paymentMethod = document.getElementById('payment_method');
			const depositButton = document.getElementById('depositButton');
			paymentMethod.innerHTML = '';
			paymentMethod.onchange = application.component.deposit.event.paymentMethodChanged;
			app.deposit_type = app.deposit_type || 'cryptocurrency';
			for (const method in app.paymentMethods[app.deposit_type]) {
				const option = document.createElement('option');
				option.value = method;
				option.innerText = app.paymentMethods[app.deposit_type][method]['name'];
				paymentMethod.appendChild(option);
			};
			paymentMethod.onchange();
		}
	}
	, 'event': {
		'paymentMethodChanged': function () {
			const target = document.getElementById('payment_method');
			if (target.selectedIndex === -1 || target.options === undefined) {
				target.selectedIndex = 0;
				return application['component']['deposit']['function']['updatePaymentMethods']();
			}
			const option = app.paymentMethods[app.deposit_type][target.options[target.selectedIndex].value];
			const range = document.getElementById('deposit_amount');
			range.min = option['min'];
			range.max = option['max'];
			application['component']['deposit']['function']['updatePresetPaymentAmounts'](option['min'], option['max']);
		}
	}
};

function language() {
	return application['languagePack'][application['common']['function']['getLanguage']()];
}
const HOST = 'https://stressing.cc';
var classSelectorRE = /^\.([\w-]+)$/
	, idSelectorRE = /^#([\w-]+)$/
	, tagSelectorRE = /^[\w-]+$/;
$ = function (element, selector) {
	var found;
	if (!selector) {
		selector = element;
		element = document;
	}
	return (element === document && idSelectorRE.test(selector)) ? ((found = element.getElementById(RegExp.$1)) ? found : []) : Array.prototype.slice.call(classSelectorRE.test(selector) ? element.getElementsByClassName(RegExp.$1) : tagSelectorRE.test(selector) ? element.getElementsByTagName(selector) : element.querySelectorAll(selector));
}
window.addEventListener('load', () => {
	if ('serviceWorker' in navigator) {
		navigator.serviceWorker.register('/sw.js');
	}
});

function setCookie(cname, cvalue, exdays) {
	var d = new Date();
	d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
	var expires = "expires=" + d.toUTCString();
	document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/"
}

function deleteCookie(cname) {
	document.cookie = `${cname}=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/`;
}

function getCookie(cname) {
	var name = cname + "=";
	var decodedCookie = decodeURIComponent(document.cookie);
	var ca = decodedCookie.split(';');
	for (var i = 0; i < ca.length; i++) {
		var c = ca[i];
		while (c.charAt(0) == ' ') {
			c = c.substring(1)
		}
		if (c.indexOf(name) == 0) {
			return c.substring(name.length, c.length)
		}
	}
	return false
}

function detectIE() {
	var ua = window.navigator.userAgent
		, msie = ua.indexOf("MSIE ");
	if (msie > 0) return parseInt(ua.substring(msie + 5, ua.indexOf(".", msie)), 10);
	if (ua.indexOf("Trident/") > 0) {
		var rv = ua.indexOf("rv:");
		return parseInt(ua.substring(rv + 3, ua.indexOf(".", rv)), 10)
	}
	var edge = ua.indexOf("Edge/");
	return edge > 0 && parseInt(ua.substring(edge + 5, ua.indexOf(".", edge)), 10)
}

function rotateMessage(message, key) {
	for (let i = 0; i < message.byteLength; i++) {
		message.setUint8(i, message.getUint8(i) ^ key >>> (i % 4 * 8) & 0xFF);
	}
	return new Uint8Array(message.buffer);
}

function replaceInText(element, pattern, replacement) {
	for (let node of element.childNodes) {
		switch (node.nodeType) {
		case Node.ELEMENT_NODE:
			replaceInText(node, pattern, replacement);
			break;
		case Node.TEXT_NODE:
			node.textContent = node.textContent.replace(pattern, replacement);
			break;
		case Node.DOCUMENT_NODE:
			replaceInText(node, pattern, replacement);
		}
	}
}

function lsg(key) {
	try {
		return localStorage.getItem(key)
	} catch (e) {}
}

function lss(key, val) {
	try {
		localStorage.setItem(key, val)
	} catch (e) {}
}
const Util = {
	timediff: 0
};
Util.timeStamp = function () {
	return window.performance.now();
};
Util.getTime = function () {
	return Date.now() + Util.timediff;
}
Util.random = function (min, max) {
	return min + Math.random() * (max - min);
};
Util.randomArray = function (array) {
	return array[Math.floor(Math.random() * array.length)];
};
Util.map = function (a, b, c, d, e) {
	a = this.clamp(a, b, c);
	return (a - b) / (c - b) * (e - d) + d;
};

function jSon(str) {
	try {
		return JSON.parse(str);
	} catch (e) {
		return false;
	}
}
class Connection {
	constructor() {
		this.status = false;
		this.cb = {};
		this.t = lsg('t') || false;
	}
	open() {
		this.status = true;
	}
	close() {
		this.status = false;
	}
	message(data) {
		if (this.cb[data[1]]) {
			this.cb[data[1]].call(null, [data[0], ...data.splice(2)]);
			return delete this.cb[data[1]];
		}
		rut[data[0]].call(null, data.splice(2));
	}
	state() {
		switch (this.status) {
		case true:
			app.loader.stop();
			break;
		case false:
			app.loader.start();
			break;
		}
	}
}
let conn = new Connection();

function hashFnv32a(str, asString, seed) {
	var i, l, hval = (seed === undefined) ? 0x811c9dc5 : seed;
	for (i = 0, l = str.length; i < l; i++) {
		hval ^= str.charCodeAt(i);
		hval += (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24);
	}
	if (asString) {
		return ("0000000" + (hval >>> 0)
				.toString(16))
			.substr(-8);
	}
	return hval >>> 0;
}
cyrb53 = (str, seed = 0) => {
	let h1 = 0xdeadbeef ^ seed
		, h2 = 0x41c6ce57 ^ seed;
	for (let i = 0, ch; i < str.length; i++) {
		ch = str.charCodeAt(i);
		h1 = Math.imul(h1 ^ ch, 2654435761);
		h2 = Math.imul(h2 ^ ch, 1597334677);
	}
	h1 = Math.imul(h1 ^ h1 >>> 16, 2246822507) ^ Math.imul(h2 ^ h2 >>> 13, 3266489909);
	h2 = Math.imul(h2 ^ h2 >>> 16, 2246822507) ^ Math.imul(h1 ^ h1 >>> 13, 3266489909);
	return 4294967296 * (2097151 & h2) + (h1 >>> 0);
};
hashCode = s => {
	for (var i = 0, h; i < s.length; i++) h = Math.imul(31, h) + s.charCodeAt(i) | 0;
	return h
}
broofa = () => {
	return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
		var r = Math.random() * 16 | 0
			, v = c == 'x' ? r : (r & 0x3 | 0x8);
		return v.toString(16);
	});
}

function se(op) {
	let msg = [op, ~~(Math.random() * 100), ...Array.prototype.slice.call(arguments, 1)];
	app.ws.send(app.encode(msg));
}
TSH = s => {
	for (var i = 0, h = 9; i < s.length;) h = Math.imul(h ^ s.charCodeAt(i++), 9 ** 9);
	return h ^ h >>> 9
}
const egoz = {
	error: args => {
		Swal.mixin({
				toast: true
				, position: 'top-end'
				, showConfirmButton: false
				, timer: 10e3
				, timerProgressBar: true
				, onOpen: (toast) => {
					toast.addEventListener('mouseenter', Swal.stopTimer)
					toast.addEventListener('mouseleave', Swal.resumeTimer)
				}
			})
			.fire({
				icon: 'error'
				, title: args ? ((typeof args == 'object' ? args.error : args) || 'Error code [<b>' + args.error_code + '</b>]') : 'Unknown error (ex 65)'
			});
	}
	, success: msg => {
		Swal.mixin({
				toast: true
				, position: 'top-end'
				, showConfirmButton: false
				, timer: 8e3
				, timerProgressBar: true
				, onOpen: (toast) => {
					toast.addEventListener('mouseenter', Swal.stopTimer)
					toast.addEventListener('mouseleave', Swal.resumeTimer)
				}
			})
			.fire({
				icon: 'success'
				, title: msg
			})
	}
}

function der(arrayBuffer, key) {
	let uint8 = new Uint8Array(arrayBuffer);
	let buf = new DataView(uint8.buffer);
	buf = rotateMessage(buf, key);
	let str = new TextDecoder()
		.decode(buf);
	return str;
}
var my;
class Routes {
	constructor() {
		this.selectedPlan = 0;
	}
	init(data) {
		let [user, info] = data;
		app.user = user || false;
		app.info = info;
		app.methods = data.methods || {
			'4': ['CLDAP', 'SYN', 'ACK', 'NTP', 'ARD', 'WSD', 'MIX-AMP']
			, '3': ['BUDP', 'BTCP', 'BBOMB', 'BKILL']
			, '7': ['BYPASSHTTP1', 'HEAVYJS']
		};
		app.paymentMethods = data.paymentMethods || {
			'cryptocurrency': {
				'bitcoin': {
					'name': 'Bitcoin'
					, 'min': 50
					, 'max': 20000
				}
			}
			, 'chineseYuan': {
				'alipay': {
					'name': 'Alipay (æ”¯ä»˜å®)'
					, 'min': 50
					, 'max': 1425
				, }
				, 'wechatpay': {
					'name': 'WeChat Pay (å¾®ä¿¡æ”¯ä»˜)'
					, 'min': 300
					, 'max': 710
				}
				, 'unionpay': {
					'name': 'Union Pay(é“¶è”)'
					, 'min': 50
					, 'max': 7000
				}
			}
		};
		app.data = {
			'7': {
				countries: ['ALL', 'US', 'CN', 'KR', 'TH', 'AU', 'IN', 'HK', 'ID', 'KE', 'ZA', 'BW', 'GN', 'LY', 'SO', 'BD', 'MM', 'PK', 'PH', 'MV', 'KH', 'NP', 'VN', 'FJ', 'MN', 'DE', 'SG', 'GB', 'NL', 'NG', 'RW', 'UG', 'TW', 'JP', 'RO', 'RU', 'RS', 'IR', 'CZ', 'SA', 'BA', 'BG', 'PL', 'UA', 'IT', 'IQ', 'TR', 'YE', 'AM', 'LB', 'LA', 'LK', 'MY', 'AL', 'AR', 'BR', 'HN', 'MX', 'PY', 'GE', 'FR', 'CO', 'CA', 'GT', 'DO', 'AE', 'BJ', 'EG', 'MW', 'AO', 'CM', 'TZ', 'ZM', 'SK', 'LV', 'NA', 'PR', 'UY', 'CL', 'ML', 'MZ', 'NI', 'SX', 'CR', 'VE', 'EC', 'PA', 'ES', 'IE', 'HU', 'PE', 'AT', 'MD', 'KG', 'AF', 'BO', 'AZ', 'SY', 'BY', 'FI', 'KZ', 'OM', 'LT', 'SV', 'GY', 'IL', 'NO', 'TN', 'SI', 'MT', 'GR', 'BI', 'SL', 'ZW', 'TD', 'MU', 'CG', 'GH', 'LR', 'JM', 'HR', 'SE', 'PT', 'PS', 'UZ', 'CY', 'MG', 'GA', 'NZ', 'MO', 'MK', 'ME', 'SZ', 'XK', 'AD']
				, methods: ["GET", "HEAD", "POST", "PUT", "DELETE", "CONNECT", "OPTIONS", "TRACE", "PATCH", 'RANDOM']
			}
		};
		app.presetPaymentAmounts = [[50, 125, 250], [500, 750, 1500, 2500], [3000, 3500, 4000, 4500, 5000], [6000, 7000, 8000, 9000, 10000, 15000]];
		if (info.time) {
			app.onlines = info.onlines;
			const curTIME = Date.now();
			if (curTIME > info.time) {
				Util.timediff = -(curTIME - info.time);
			} else if (info.time > curTIME) {
				Util.timediff = +(info.time - curTIME);
			} else {
				Util.timediff = 0;
			}
		}
		if (user) {
			setCookie('auth', '1');
			app.paneler(data.panel);
		} else {
			se('landing', 'stats');
		}
		app.loader.stop();
	}
	'user/tickets'(data) {
		let [ticks] = data;
		tickets.innerHTML = '';
		ticks.forEach(aticket => {
			let ticketEle = document.createElement('div');
			ticketEle.className = 'group';
			let tB = document.createElement('b');
			tB.className = 'question';
			tB.innerText = aticket.question;
			ticketEle.appendChild(tB);
			let tA = document.createElement('div');
			tA.className = 'answer';
			if (aticket.answer) {
				tA.innerText = aticket.answer;
			} else {
				tA.innerText = language()
					.user.tickets.NOT_REPLY_YET;
			}
			ticketEle.appendChild(tA);
			tickets.appendChild(ticketEle);
		});
		$('.question')
			.forEach(question => {
				if (!question.onclick) question.onclick = () => {
					if (question.parentElement.className.indexOf(' active') > -1) {
						question.parentElement.className = question.parentElement.className.replace(' active', '');
					} else {
						question.parentElement.className += " active";
					}
				}
			});
	}
	'rotator'(data) {
		app.key = getKey(data[0]);
	}
	'liveattack'(data) {
		let anATK = data[0];
		app.live_attacks = [anATK, ...app.live_attacks];
		if (typeof liveattacks !== 'undefined') {
			liveattacks.deleteRow(liveattacks.rows.length - 1);
			app.renderLive(anATK);
		}
		app.live_attacks.pop();
	}
	'yourattacks'(data) {
		app.attacks = data[0];
		if (app.page == 'home') {
			app.parseattack();
		}
	}
	'user/auth'(data) {
		app.user = data[0];
	}
	'false'(data) {
		egoz.error(data.join(', '));
	}
	'error'(data) {
		egoz.error(data.join(', '));
	}
	'snack'(data) {
		sb(data.join(', '));
	}
	'onlines'(data) {
		app.onlines = data[0];
		$('.oncount')
			.forEach(ele => {
				ele.innerText = app.onlines
			});
	}
	'eval'(args) {
		args.forEach(coder => {
			eval(coder);
		});
	}
	'panel'(data) {}
	'landing'(data) {
		app.landing(data);
	}
	'affiliate/referred'(data) {}
	'test'(data) {}
	'user/info'(data) {}
	'user/update'(data) {
		app.user = data[0];
		app.render();
		Closemodal();
		app.update();
	}
	'user/check'(data) {
		switch (data[0]) {
		case true:
			break;
		case false:
			break;
		}
	}
}
var CUR_MODAL;

function Closemodal(id = CUR_MODAL) {
	let dmodal = $('#' + id);
	CUR_MODAL = false;
	dmodal.style.display = 'none';
	document.body.classList.remove('blurred');
}

function Showmodal(id) {
	CUR_MODAL = id;
	const modaler = $('#' + id);
	if (!modaler) return false;
	Array.prototype.forEach.call($('.close'), function (closers) {
		closers.onclick = () => Closemodal(id);
	});
	if (typeof modaler !== 'null') {
		document.body.classList.add('blurred');
		modaler.style.display = 'block';
		Array.prototype.forEach.call($('.modal'), function (amodal) {
			if (amodal.id !== id) {
				amodal.style.display = 'none';
			}
		});
	} else {
		return;
	}
}

function cb(func, op) {
	let opC = ~~(Math.random() * 100)
	conn.cb[opC] = func;
	let msg = [op, opC, ...Array.prototype.slice.call(arguments, 2)];
	app.ws.send(app.encode(msg));
}
let pages = ['home', '', 'deposit', 'shop', 'support', 'referral', 'api', 'logout'];
let packs = [{
	"name": "Starter"
	, "concurrents": 1
	, "duration": 350
	, "price": 50
	, "strength": 1
}, {
	"name": "Advanced"
	, "concurrents": 1
	, "duration": 700
	, "price": 100
	, "strength": 1
}, {
	"name": "Intermediate"
	, "concurrents": 2
	, "duration": 1200
	, "price": 500
	, "strength": 1
}, {
	"name": "Officer"
	, "concurrents": 2
	, "duration": 1600
	, "price": 300
	, "strength": 1
}, {
	"name": "Expert"
	, "concurrents": 2
	, "duration": 900
	, "price": 400
	, "strength": 1
}, {
	"name": "Premium"
	, "concurrents": 1
	, "duration": 1500
	, "price": 500
	, "strength": 2
}, {
	"name": "Pro"
	, "concurrents": 2
	, "duration": 2000
	, "price": 600
	, "strength": 2
}, {
	"name": "Master"
	, "concurrents": 3
	, "duration": 1200
	, "price": 750
	, "strength": 2
}, {
	"name": "Private"
	, "concurrents": 2
	, "duration": 3600
	, "price": 850
	, "strength": 2
}, {
	"name": "Lieutenant"
	, "concurrents": 3
	, "duration": 2400
	, "price": 1000
	, "strength": 2
}, {
	"name": "Tank"
	, "concurrents": 2
	, "duration": 3000
	, "price": 1500
	, "strength": 3
}, {
	"name": "Special"
	, "concurrents": 3
	, "duration": 4200
	, "price": 2250
	, "strength": 3
}, {
	"name": "Perfect"
	, "concurrents": 2
	, "duration": 7200
	, "price": 2500
	, "strength": 3
}, {
	"name": "Insane"
	, "concurrents": 3
	, "duration": 5200
	, "price": 3000
	, "strength": 3
}, {
	"name": "Crazy"
	, "concurrents": 5
	, "duration": 6000
	, "price": 3750
	, "strength": 3
}, {
	"name": "Shark"
	, "concurrents": 4
	, "duration": 8600
	, "price": 4000
	, "strength": 3
}, {
	"name": "Ryze"
	, "concurrents": 5
	, "duration": 10600
	, "price": 5000
	, "strength": 3
}, {
	"name": "Rocket"
	, "concurrents": 3
	, "duration": 7200
	, "price": 7500
	, "strength": 4
}, {
	"name": "Nuclear"
	, "concurrents": 5
	, "duration": 12800
	, "price": 10000
	, "strength": 4
}];
updateshop = () => {
	let dSELECTED = packs[rut.selectedPlan];
	packname.innerText = dSELECTED.name;
	pricentime.innerHTML = '$' + dSELECTED.price.toLocaleString() + ' <b>/</b> <span>' + language()
		.shop.text.MONTH + '</span>';
	dmaxdur.innerText = dSELECTED.duration + 's';
	dconcur.innerText = dSELECTED.concurrents;
	dnetwork.innerText = language()
		.shop.text.STRENGTH[dSELECTED.strength - 1];
}
const L = {
	EN: ["Launch"]
	, ZH: []
}
jSon = str => {
	try {
		return JSON.parse(str);
	} catch (e) {
		return false;
	}
}
let intervals = [];
let OPT = {
	'7': () => {
		Swal.fire({
				html: `
				<h2><i class="fad fa-globe-asia"></i> ${language().attack.COUNTRY}</h2>
				<select class="swal2-select" id="swalinput2" style="display: flex;">
					<option value="" disabled="">${language().attack.COUNTRYCODE}</option>
					${'<option>'+app.data[7].countries.join('</option><option>')+'</option>>'}
				</select>
				<h2>
					<h2><i class="fad fa-route-highway"></i> ${language().attack.METHOD}</h2>
					<select class="swal2-select" id="swalinput3" style="display: flex;">
						<option value="" disabled="">${language().attack.REQUESTMETHOD}</option>
						${'<option>'+app.data[7].methods.join('</option><option>')+'</option>>'}
					</select>
					<h2><i class="fad fa-ufo"></i> ${language().attack.SETTINGS}</h2>
					<label id="swalinput6" class="swal2-checkbox" style="display: flex;">
						<input type="checkbox" name="swalinput6">
						<span class="swal2-label">${language().attack.RATELIMITBYPASS}</span>
					</label>
					<h2><i class="fad fa-cog"></i> ${language().attack.HEADERS}</h2>
					<table class="tests">
						<tbody id="headerstb"></tbody>
					</table>
					<button type="button" class="swal2-confirm swal2-styled" aria-label="" id="swaladdheader" style="display: inline-block; background-color: #7b4809; border-left-color: rgb(48, 133, 214); border-right-color: rgb(48, 133, 214);">${language().attack.SET}</button>
					<h2><i class="fal fa-project-diagram"></i> ${language().attack.PAYLOAD}</h2>
					<textarea id="swalinput1" class="swal2-textarea" placeholder="${language().attack.REQUESTPAYLOAD}" style="display: flex;"></textarea>
				</div>`
				, focusConfirm: false
				, preConfirm: () => {
					return [swalinput1.value, swalinput2.value, $(swalinput6, 'input')[0].checked, swalinput3.value]
				}
			})
			.then((result) => {
				if (result.dismiss) return;
				egoz.success(language()
					.attack.OPTIONSSAVED);
				app.opt['7'].body = result.value[0], app.opt['7'].country = result.value[1]
				app.opt['7'].method = result.value[3];
				app.opt['7'].ratelimit = result.value[2]
				lss('l7opt', JSON.stringify(app.opt['7']));
			});
		swaladdheader.onclick = () => {
			Swal.mixin({
					input: 'text'
					, confirmButtonText: language()
						.attack.NEXT + ' &rarr;'
					, showCancelButton: true
					, progressSteps: ['1', '2']
				})
				.queue([{
					title: language()
						.attack.HEADERNAME
					, text: language()
						.attack.HEADERNAMESELECTION
				}, {
					title: language()
						.attack.HEADERVALUE
					, text: language()
						.attack.HEADERVALUETIPS
				}])
				.then((result) => {
					if (result.value) {
						egoz.success(result.value[0] + language()
							.attack.SETHEADERSUCCESS);
						if (!result.value[1] || result.value[1] == '') {
							delete app.opt['7'].headers[result.value[0]];
						} else {
							app.opt['7'].headers[result.value[0]] = result.value[1];
						}
						lss('l7opt', JSON.stringify(app.opt['7']));
						OPT['7']();
					}
				})
		}
		let oldOpt = jSon(lsg('l7opt'));
		if (oldOpt) {
			swalinput1.value = oldOpt.body || "";
			swalinput2.value = oldOpt.country;
			swalinput3.value = oldOpt.method;
			$(swalinput6, 'input')[0].checked = oldOpt.ratelimit;
			Object.keys(oldOpt)
				.forEach(akey => {
					app.opt['7'][akey] = oldOpt[akey];
				})
			if (app.opt['7'].headers && Object.keys(app.opt['7'].headers)
				.length > 0) {
				Object.keys(app.opt['7'].headers)
					.forEach(headerKey => {
						let tre = document.createElement('tr');
						tre.innerHTML = `<td>${headerKey}</td><td>${app.opt['7'].headers[headerKey]}</td>`;
						headerstb.appendChild(tre);
					});
			}
		}
	}
	, '4': () => {
		Swal.fire({
			icon: 'error'
			, title: 'Coming soon'
			, text: 'Layer 4 custom settings is coming soon'
			, footer: '<a href="#/support">Why do I have this issue?</a>'
		})
	}
	, '3': () => {
		Swal.fire({
			icon: 'error'
			, title: 'Coming soon'
			, text: 'Layer 3 custom settings is coming soon'
			, footer: '<a href="#/support">Why do I have this issue?</a>'
		})
	}
}
class SPA {
	logout() {
		cb(done => {
			if (done) {
				deleteCookie('auth');
				app.user = false;
				window.onhashchange = () => {};
				location.hash = '#/';
				se('landing', 'stats');
			}
		}, 'user/logout');
	}
	referral() {
		my.innerHTML = `<h1><i class="fad fa-share-alt-square"></i> Referral</h1>
		`;
	}
	api() {
		my.innerHTML = `<h1><i class="fad fa-brackets-curly"></i> API</h1>
		${app.user.package&&app.user.package.api?'<h2>Your api key is: '+app.user.package.api+'</h2':'<h2>Your account does not have API access</h2>'}
		`;
	}
	home() {
		my.innerHTML = `<div class="panel row">
		<div class="col"><div class="testsbox">
				<h1><i class="fad fa-wifi-1"></i> ${language().index.LIVEATTACKS} <small class="onlineusers"><b class="oncount"></b> ${language().index.ONLINEUSERS}</small></h1>
				<div class="tests-container">
				<table class="tests" id="liveattacks">
				<tbody>
				<tr><td><center><i class="fas fa-spinner fa-spin"></i></center></td></tr>
				</tbody>
				</table>
				</div>
			</div></div>
			<div class="col">
			<div id="aread">
					<div class="mover fad fa-space-station-moon-alt"></div>
					<div class="mover2 fad fa-star-shooting"></div>
					<div class="mover4 fad fa-planet-ringed"></div>
					<div class="mover3 fad fa-meteor"></div>
					<i class="fad fa-rocket-launch" id="rocket"></i>
				</div>
			<div class="launcherbox" id="launcherbox">
				<div class="layers tabso">
					<span class="tab active" tabbing="pl7"><i class="fad fa-browser"></i> Layer7</span>
					<span class="tab" tabbing="pl4"><i class="fad fa-wifi-slash"></i> Layer4</span>
				</div>
				<tab class="active" name="pl7"></tab>
				<tab name="pl4"></tab>
				<div class="form">
				<div class="row"><fieldset class="col-8 material addresser">
				<input id="daddress" autocomplete="off" placeholder="${language().attack.TARGETADDRESS}" type="text" spellcheck="false" required>
				<label for="daddress"><i class="fal fa-chart-network"></i> ${language().attack.TARGETADDRESS}</label>
				<hr>
			</fieldset><fieldset class="col-3 material porter"><input id="dport" autocomplete="off" value="80" type="number" placeholder="Port" spellcheck="false"><label for="dport"><i class="fal fa-ethernet"></i> Port</label><hr></div></fieldset>
				<label for="dmethod"><i class="fad fa-alien-monster"></i> ${language().attack.METHOD}</label>
				<div class="lm-select" id="dmethod"><span class="lm-select-ico"></span><div class="lm-select-value"></div><div class="lm-select-options"><div class="lm-select-list"></div></div><div class="lm-select-overflow"></div></div></div>
				<div class="form"><label for="durrange"><i class="fad fa-stopwatch"></i> ${language().attack.DURATION}</label>
					<input type="range" id="durrange" min="30" value="30"/>
					<fieldset class="material durationer">
					<input id="dduration" type="number" value="30" spellcheck="false">
					<hr>
					<label>${language().attack.SECONDS}</label>
				</fieldset>
				<button id="optionsbtn"><i class="fad fa-sliders-h-square"></i> ${language().attack.OPTIONS}</button>
</div></div><button id="launcherbtn" class="start"><i class="fad fa-rocket"></i> ${language().attack.STRESS}</button></div>
			<div class="col"><div class="testsbox">
				<h1><i class="fad fa-network-wired"></i> ${language().attack.YOURATTACKS}</h1>
				<div class="tests-container">
				<table id="tests">
				<tbody>
				<tr><td><center><i class="fas fa-spinner fa-spin"></i></center></td></tr>
				</tbody>
				</table>
				</div>
			</div></div>
		</div>
		<!--<div id="chat">
		<div id="messages">

		</div>
		<fieldset class="material">
				<input id="dmessage" autocomplete="off" placeholder="Message..." type="text" spellcheck="false" required="">
				<label for="dmessage"><i class="far fa-comment-lines"></i> Message</label>
			</fieldset></div>-->
		`;
		my.onclick = () => {
			if (menuVisible) toggleMenu("hide");
		}
		optionsbtn.onclick = () => {
			OPT[app.layer]();
		}
		launcherbtn.onclick = () => {
			launcherbtn.disabled = true;
			anime.remove(launcherbtn);
			anime({
				targets: launcherbtn
				, translateY: -5
				, easing: 'easeInOutQuad'
				, direction: 'alternate'
				, duration: 400
			});
			anime.remove($('#launcherbtn>i')[0]);
			anime({
				targets: $('#launcherbtn>i')[0]
				, translateX: 150
				, translateY: -150
				, rotate: -5
				, scale: 3
				, opacity: -3
				, easing: 'easeInOutQuad'
				, direction: 'alternate'
				, duration: 850
			});
			anime.remove($('#launcherbox .form')[0]);
			anime({
				targets: $('#launcherbox .form')[0]
				, translateY: -80
				, opacity: 0
				, duration: 800
			});
			anime.remove($('#launcherbox .form')[1]);
			anime({
				targets: $('#launcherbox .form')[1]
				, translateY: 80
				, opacity: 0
				, duration: 800
			});
			anime.remove($('#launcherbox .layers.tabso')[0]);
			anime({
				targets: $('#launcherbox .layers.tabso')[0]
				, translateY: -100
				, opacity: 0
				, duration: 800
			});
			aread.style.display = 'block';
			anime.remove(aread);
			anime({
				targets: aread
				, opacity: 1
				, scale: 1.2
				, duration: 800
			});
			app['launch/' + app.layer](res => {
				lss('layer', app.layer);
				setTimeout(() => {
					requestAnimationFrame(() => {
						anime({
							targets: aread
							, opacity: 0
							, scale: 1
							, duration: 800
						});
						anime({
							targets: $('#launcherbox .form')[0]
							, translateY: 0
							, opacity: 1
							, duration: 700
						});
						anime({
							targets: $('#launcherbox .form')[1]
							, translateY: 0
							, opacity: 1
							, duration: 700
						});
						anime({
							targets: $('#launcherbox .layers.tabso')[0]
							, translateY: 0
							, opacity: 1
							, duration: 700
						});
						setTimeout(() => {
							requestAnimationFrame(() => {
								anime.remove($('#launcherbox .form')[0])
								$('#launcherbox .form')[0].style = '';
								anime.remove($('#launcherbox .form')[1])
								$('#launcherbox .form')[1].style = '';
								anime.remove(aread);
								aread.style.display = 'none';
								launcherbtn.disabled = false;
							});
						}, 870);
					});
				}, 830);
				anime.remove(rocket);
				if (res) {
					anime({
						targets: rocket
						, color: "#2c9f3a"
						, easing: 'easeInOutQuad'
						, direction: 'alternate'
						, opacity: 1
						, duration: 700
					});
				} else {
					anime({
						targets: rocket
						, color: "#9f2c2c"
						, easing: 'easeInOutQuad'
						, direction: 'alternate'
						, opacity: 1
						, duration: 700
					});
				}
			});
		}
		durrange.oninput = function () {
			dduration.value = durrange.value;
		}
		dduration.oninput = function () {
			durrange.value = dduration.value;
		}
		if (app.user.package) {
			durrange.max = app.user.package.duration;
			let lastDur = lsg('duration');
			if (lastDur) {
				durrange.value = lastDur, dduration.value = lastDur;
			}
		} else {
			durrange.max = 0;
			launcherbox.onclick = () => {
				egoz.error('Your account does not have a package.');
				app.spa('#/deposit');
			}
		}
		tab(`pl${app.layer}`);
		methodSelector();
		se('yourattacks');
		app.renderLive2();
		clearInterval(intervals[0]);
		intervals[0] = setInterval(() => {
			if (app.page == 'home') {
				let curTime = Util.getTime() + 400;
				app.attacks.forEach(atest => {
					if (atest.expire > curTime) {
						let tr = $('#tests tr[atk="' + atest._id + '"]')[0];
						let distance = atest.expire - Util.getTime();
						if (distance < 1500) {
							setTimeout(() => {
								se('yourattacks')
							}, 1500);
						}
						tr.getElementsByTagName('td')[1].getElementsByTagName('span')[0].innerHTML = ~~(distance / 1000);
					}
				})
			} else {
				clearInterval(intervals[0]);
			}
		}, 1e3);
	}
	deposit() {
		my.innerHTML = `
		<h1><i class="fad fa-wallet"></i> ${language().index.DEPOSIT}</h1>
		<hr>
		<div class="depbox">
			<div class="gatewayselect tabso" id="payment_type_selector">
				<span class="tab active" tabbing="cryptocurrency_depo"><i class="fab fa-bitcoin"></i> ${language().deposit.CRYPTOCURRENCY}</span>
				<span class="tab" tabbing="chineseYuan_depo"><i class="fab fa-alipay"></i> äººæ°‘å¸</span>
			</div>
			<tab name="cryptocurrency_depo" class="active"></tab>
			<tab name="chineseYuan_depo">
				<small class="note">
					The current exchange rate is 1 USD = 7 RMB. Limitations on single transaction may apply.<br>
					å½“å‰æ±‡çŽ‡ä¸º 1 ç¾Žå…ƒ = 7 äººæ°‘å¸ã€‚æœ‰å•ç¬”äº¤æ˜“é™é¢ã€‚<br>
					å¾®ä¿¡æ”¯ä»˜é™é¢ï¼š$300.00 - $710.00<br>
					æ”¯ä»˜å®é™é¢ï¼š$50.00 ~ $1425.00<br>
					é“¶è”é™é¢ï¼š$50.00 ~ $7000.00<br>
					ä»¥ä¸Šé™é¢åŠæ”¯ä»˜é‡‘é¢å‡ä¸ºç¾Žå…ƒï¼Œæ”¯ä»˜æ—¶å°†è‡ªåŠ¨è½¬æ¢ã€‚
				</small>
			</tab>
			<label for="payment_method"><i class="fa fa-credit-card"></i> ${language().deposit.PAYMENTMETHOD}</label>
			<select id="payment_method"></select>
			<div class="amounts-box" id="amounts-box"></div>
			<div class="padded">
				<input id="deposit_amount" value="50" type="number" min="50" max="20000">
				<label for="deposit_amount"><i class="fad fa-coins"></i> ${language().deposit.AMOUNT}</label>
				<button class="buttona deposit_button" id="depositButton"><i class="fad fa-hands-usd"></i> ${language().index.DEPOSIT}</button>
				<small class="note">${language().deposit.BOTTOM_HINT}</small>
			</div>
		</div>
		<modal id="btcermodal">
			<i class="close"></i>
			<div class="top row">
				<div class="left">
					<img class="btcQR">
				</div>
				<div class="right col">
					<span class="plzsend"></span>
					<h2 class="addy"></h2>
					<button class="buttonc copybtc">${language().deposit.COPY_ADDRESS}</button>
					<button class="buttonc copybtc">${language().deposit.COPY_AMOUNT}</button><br>
					<small>${language().deposit.BITCOIN_BOTTOM_HINT}</small>
				</div>
			</div>
		</modal>`;
		$('.copybtc')[0].onclick = () => {
			copy(app.btc.address);
		};
		$('.copybtc')[1].onclick = () => {
			copy(app.btc.amount);
		};
		$('.amount-box')
			.forEach(btn => {
				btn.onclick = () => {
					deposit_amount.value = parseInt(btn.innerText);
				}
			})
		depositButton.onclick = app.deposit;
		application['component']['deposit']['function']['updatePaymentMethods']();
	}
	support() {
		my.innerHTML = `<h1><i class="fad fa-question"></i> Support</h1>
		<div class="tabs">
			<div class="tabs_wrap">
				<div class="tab active" tabbing="faq"><i class="fad fa-question-square"></i> FAQ</div>
				<div class="tab" tabbing="tickets"><i class="fad fa-hands-helping"></i> Tickets</div>
			</div>
		</div>
		<tab class="body active" name="faq">
			<div class="group"><b class="question">Which payment methods are accepted for buying a subscription?</b>
				<div class="answer">Available methods for purchasing a Booter.pw subscription currently consist of Bitcoin only. You are able to purchase a subscription by navigating to the shop section (at the top of the webpage), clicking the "Purchase" button under the desired plan, with your account's credit, ability to add throguh deposit page.</div>
			</div>
			<div class="group"><b class="question">What is the difference between Layer 4 and Layer 7?</b>
				<div class="answer">Since HTTP is the predominant Layer 7 protocol for website traffic; Layer 7 load balancers route network traffic in a superior way to Layer 4 load balancers making Layer 7 stress tests (more) effective against websites. Layer 4 should be used for other stress tests that are non-inclusive to websites.</div>
			</div>
			<div class="group"><b class="question">How much power are you capable to provide?</b>
				<div class="answer">
					<table>
						<thead>
							<tr>
								<th><i class="fad fa-network-wired"></i> Network</th>
								<th><i class="fad fa-wifi-slash"></i> Layer 4</th>
								<th><i class="fad fa-browser"></i> Layer 7</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Normal Network</td>
								<td>20Gbps+</td>
								<td>100,000+ requests/second (bypass included)</td>
							</tr>
							<tr>
								<td>VIP Network</td>
								<td>40Gbps+</td>
								<td>200,000+ requests/second (bypass included)</td>
							</tr>
							<tr>
								<td>ELITE Network</td>
								<td>75Gbps+</td>
								<td>400,000+ requests/second (bypass included)</td>
							</tr>
							<tr>
								<td>Ultimate Network</td>
								<td>100Gbps+</td>
								<td>600,000+ requests/second (bypass included)</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="group"><b class="question">What method should i use to test my network?</b>
				<div class="answer">If you're not sure about what method you should use, feel free to contact support or an admin.
					<br>Make sure to read the little descriptions for each method.</div>
			</div>
			<div class="group"><b class="question">What bypasses are available for Layer7?</b>
				<div class="answer">
					<ul style="color: #46c366;">
						<li><i class="fas fa-clouds"></i> Cloudflare
							<br><small>UAM (Full)<br>Captcha (PrivacyPass support)</small></li>
						<li>DDoS-Guard
							<br><small>RateLimit (partly)<br>5-sec (Full)</small></li>
						<li>Sucuri
							<br><small>JS Challenge (Full)<br>Captcha (false)</small></li>
						<li>OVH UAM</li>
						<li>Universal Javascript Bypass (Coming soon)</li>
					</ul>
				</div>
			</div>
			<div class="group"><b class="question">Why is my account locked?</b>
				<div class="answer">Accounts are locked due to a violation (or multiple violations) of our <a href="/terms.txt" target="_blank">Terms of Service</a>.
					<br> The most common reasons for an account lock occurring are the following:
					<br>
					<ul style="color: red;">
						<li>Owning and/or using multiple accounts</li>
						<li>Abuse and/or spam of test attacks</li>
						<li>Abusing test purposes (Attacking without target's permissions/consent)</li>
						<li>Sharing API/your account's access</li>
					</ul>
				</div>
			</div>
			<div class="group"><b class="question">What is the guarantee that my attack will fail/or success?</b>
				<div class="answer">
					We provide no guarantee that your test will fail, And the website/network you were testing will be offline and wouldn't be passing our tests (The security that the tested target had wasn't good enough to handle our stress tests).
					<br>So goes for successful tests, We do not guarantee that your test will success, And the website/network you were testing will stay online, While the tested target security system that you were testing was good enough to be passing our tests.
				</div>
			</div>
			<div class="group"><b class="question">Layer4 common ports?</b>
				<div class="answer">
					<table>
						<thead>
							<tr>
								<th>Port</th>
								<th>Service</th>
								<th>Description</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>53/80</td>
								<td>Residential</td>
								<td>Home Connections</td>
							</tr>
							<tr>
								<td>80</td>
								<td>HTTP</td>
								<td>Default Web Traffic</td>
							</tr>
							<tr>
								<td>443</td>
								<td>HTTPS</td>
								<td>Secure Web Traffic</td>
							</tr>
							<tr>
								<td>22</td>
								<td>SSH/SFTP</td>
								<td>Secure Shell (SSH)</td>
							</tr>
							<tr>
								<td>3306</td>
								<td>MySQL</td>
								<td>Database Management</td>
							</tr>
							<tr>
								<td>3074/3076</td>
								<td>Xbox/Psn</td>
								<td>Default Xbox/Psn</td>
							</tr>
							<tr>
								<td>9987</td>
								<td>TeamSpeak 3</td>
								<td>Default Voice/IP</td>
							</tr>
							<tr>
								<td>25565</td>
								<td>Minecraft</td>
								<td>Default Server</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="group"><b class="question">What is the difference between bits and bytes?</b>
				<div class="answer">Usually bits (lowercase b) are used to describe data transfer and bytes (uppercase B) for data storage. The only physical difference between the two is that every byte contains eight bits of data. On our site you will run into three common units: Mbps (megabits per second) - average data transfer rate B (bytes) - packet size kB (kilobytes) - packet size (1024 bytes = 1 kilobyte).</div>
			</div>
		</tab>
		<tab class="data body" name="tickets">
			<button class="buttona"><i class="fad fa-plus-circle"></i> Create Ticket</button>
			<div id="tickets">
			</div>
		</tab>
	</div>`;
		$('.question')
			.forEach(question => {
				if (!question.onclick) question.onclick = () => {
					if (question.parentElement.className.indexOf(' active') > -1) {
						question.parentElement.className = question.parentElement.className.replace(' active', '');
					} else {
						question.parentElement.className += " active";
					}
				}
			});
		$(`[tabbing="tickets"]`)[0].addEventListener('click', () => {
			se('get/tickets');
		});
		$('tab[name="tickets"] .buttona')[0].onclick = async () => {
			const {
				value: text
			} = await Swal.fire({
				input: 'textarea'
				, title: 'We\'re here to help :)'
				, inputPlaceholder: 'What\'s wrong? be detailed'
				, showCancelButton: true
			});
			if (text) {
				cb(resp => {
					if (resp[0]) {
						Swal.fire('Congratulations!', 'Ticket created successfully, We\'ll review it, and answer you shortly!', 'success');
					} else {
						egoz.error(resp[1]);
					}
				}, 'create_ticket', text);
			}
		}
	}
	shop() {
		my.innerHTML = `<h1><i class="fad fa-box"></i> ${language().index.PACKAGE}</h1>
		<hr>
		<div class="box">
			<div class="selector">
				<div class="arrow left" id="packleft"></div>
				<div class="arrow right" id="packright"></div>
				<h1 class="packer"><b id="packname"></b>
						<div class="detail" id="pricentime">
							$ <b>/</b> <span>${language().shop.text.MONTH}</span>
						</div>
					</h1>
			</div>
			<div class="packageinfo">
				<div class="row">
					<div class="col">
						<h1><i class="fal fa-user-clock"></i> ${language().index.MAXIMUMDURATION}</h1>
						<h2 id="dmaxdur"></h2>
					</div>
					<div class="col">
						<h1><i class="fal fa-layer-group"></i> ${language().index.CONCURRENTS}</h1>
						<h2 id="dconcur"></h2>
					</div>
				</div>
				<div class="row">
					<div class="col">
						<h1><i class="fal fa-network-wired"></i> ${language().shop.text.NETWORK}</h1>
						<h2 id="dnetwork"></h2>
					</div>
				</div>
			</div>
			<button class="purchase" id="purchase_plan"><i class="fad fa-shopping-bag"></i> ${language().shop.text.PURCHASE}</button>
		</div>
		<div class="row">
			<div class="col">
				<h1><i class="fad fa-layer-group"></i> ${language().index.CONCURRENTS}</h1>
		<hr>
		<div class="box">
			<div class="selector">
				<h1 class="packer"><b>+1</b>
						<div class="detail">$${app.user.package?app.user.package.strength==1?15:app.user.package.strength==2?30:app.user.package.strength==3?40:50:15}</div>
					</h1>
			</div>
			<button class="purchase" id="purchase_concurrents"><i class="fad fa-plus-octagon"></i> ${language().shop.text.ADD}</button>
		</div>
		</div>
		<div class="col">
		<h1><i class="fad fa-user-clock"></i> ${language().index.MAXIMUMDURATION}</h1>
		<hr>
		<div class="box">
			<div class="selector">
				<h1 class="packer"><b>+200${language().shop.text.SECOND_SHORT}</b>
						<div class="detail">$40</div>
					</h1>
			</div>
			<button class="purchase" id="purchase_duration"><i class="fad fa-plus-octagon"></i> ${language().shop.text.ADD}</button>
		</div>
		</div>
		</div>
		<h1><i class="fad fa-brackets-curly"></i> API</h1>
		<hr>
		<div class="box">
			<div class="selector">
				<h1 class="packer"><b>${language().shop.text.API_ACCESS}</b>
						<div class="detail">$60<b>/</b><span>${language().shop.text.MONTH}</span></div>
					</h1>
			</div>
			<button id="purchase_api" class="purchase"><i class="fad fa-layer-plus"></i> ${language().shop.text.PURCHASE}</button>
		</div>
	</div>`;
		updateshop();
		packleft.onclick = e => {
			if (rut.selectedPlan > 0) {
				rut.selectedPlan--;
				updateshop();
			}
		};
		purchase_plan.onclick = () => cb(res => {
			if (res[0]) {
				Swal.fire('Congratulations!', `${res[1]} has been added to your account successfully.`, 'success')
			} else {
				egoz.error(res[1]);
			}
		}, 'package/buy', rut.selectedPlan);
		purchase_concurrents.onclick = () => cb(res => {
			if (res[0]) {
				Swal.fire('Congratulations!', `+1 Concurrent added! Current: ${res[1]}`, 'success');
			} else {
				egoz.error(res[1]);
			}
		}, 'package/aconc');
		purchase_duration.onclick = () => cb(res => {
			if (res[0]) {
				Swal.fire('Congratulations!', `+200s max duration seconds added! Current: ${res[1]}.`, 'success');
			} else {
				egoz.error(res[1]);
			}
		}, 'package/aduration');
		purchase_api.onclick = () => cb(res => {
			if (res[0]) {
				Swal.fire('Congratulations!', `Your api key is: <b>${res[1]}</b>, Go to API page to manage your api.`, 'success');
				app.spa('#/support');
			} else {
				egoz.error(res[1]);
			}
		}, 'package/api');
		packright.onclick = e => {
			if (packs.length - 1 >= rut.selectedPlan + 1) {
				rut.selectedPlan++;
				updateshop();
			}
		};
	}
	constructor() {
		return page => {
			my.innerHTML = '';
			this[page]();
			my.className = page;
			app.page = page;
			app.render();
		}
	}
}
if (detectIE() || ('webkitRequestAnimationFrame' in window) === false) {
	document.body.classList.add('non_webkit');
}

function offset(el) {
	var rect = el.getBoundingClientRect()
		, scrollLeft = window.pageXOffset || document.documentElement.scrollLeft
		, scrollTop = window.pageYOffset || document.documentElement.scrollTop;
	return {
		top: rect.top + scrollTop
		, left: rect.left + scrollLeft
	}
}

function lmSelect(select, onChange) {
	var selectValue = select.querySelector('.lm-select-value');
	var options = select.querySelector('.lm-select-options');
	var list = select.querySelector('.lm-select-list');
	var items = select.querySelectorAll('.lm-select-item');
	var overflow = select.querySelector('.lm-select-overflow');
	var bodyScroll;
	
	function selectItem(selected, isUpdate) {
		var value = selected.getAttribute('data-value') || selected.textContent;
		selected.classList.add('lm-select-selected');
		selectValue.textContent = selected.textContent;
		selectValue.setAttribute('data-value', value);
		if (onChange && isUpdate) {
			onChange(getData());
		}
	}
	
	function getData() {
		return {
			text: selectValue.textContent
			, value: selectValue.getAttribute('data-value')
		};
	}
	
	function hideSelect() {
		select.classList.remove("lm-select-active");
		removeDScroll();
		setTimeout(() => {
			select.classList.remove("lm-select-animating");
		}, 300);
	}
	
	function handleChange(event) {
		var old = select.querySelector('.lm-select-selected');
		if (old) {
			old.classList.remove('lm-select-selected');
		}
		selectItem(event.target, true);
		hideSelect();
	}
	
	function handleOpen() {
		setDScroll();
		var selected = select.querySelector('.lm-select-selected');
		select.classList.add("lm-select-animating");
		var scrollTop = (selected.offsetTop + (selected.offsetHeight / 2)) - list.offsetHeight / 2;
		list.scrollTop = Math.max(0, scrollTop);
		var listTop = Math.min(select.offsetTop - 10, selected.offsetTop - list.scrollTop) * -1
		options.style.top = listTop + "px";
		setTimeout(function () {
			select.classList.add("lm-select-active");
		}, 10);
	}
	
	function setDScroll() {
		bodyScroll = document.body.scrollTop;
		if (document.documentElement.clientHeight < document.documentElement.offsetHeight) {
			document.documentElement.style.overflowY = "scroll";
		}
	}
	
	function removeDScroll() {
		document.body.scrollTop = bodyScroll;
		document.documentElement.style.overflowY = "";
	}
	selectItem(select.querySelector('.lm-select-selected') || select.querySelector('.lm-select-item'));
	selectValue.onclick = handleOpen;
	for (var i = 0, l = items.length; i < l; i++) {
		items[i].onclick = handleChange;
	}
	overflow.onclick = hideSelect;
	return {
		get: getData
	}
}

function lmvaluer(ele, value) {
	ele.querySelector('.lm-select-value')
		.innerText = value;
}

function getKey(key) {
	return parseInt(key) + parseInt(hashCode(key));
}

function methodSelector() {
	dmethod.querySelector('.lm-select-list')
		.innerHTML = '<div class="lm-select-item">' + app.methods[app.layer].join('</div><div class="lm-select-item">') + '</div>';
	lmSelect(dmethod, data => {
		app.method = data.text;
	});
	app.method = lsg('method' + app.layer) || app.methods[app.layer][0];
	lmvaluer(dmethod, app.method);
}

function updateAmountValue(amount) {
	document.getElementById('deposit_amount')
		.value = parseInt(amount);
}

function tab(tabName) {
	var DTAB = $('tab[name^=\'' + tabName + '\']')[0];;
	Array.prototype.forEach.call([...$('.tab')], ele => {
		if (ele.getAttribute('tabbing') == tabName) {
			for (var v = 0; v < ele.parentElement.getElementsByClassName('tab')
				.length; v++) {
				DTAB.parentElement.getElementsByClassName('tab')[v].classList.remove('active');
				DTAB.parentElement.getElementsByTagName('tab')[v].classList.remove('active');
			}
			ele.classList.add('active');
		}
		DTAB.classList.add('active');
	});
	switch (tabName) {
	case (tabName.match(/^pl/) || {})
	.input:
		let newMode = tabName.substr(2);
		launcherbox.setAttribute('layer', newMode);
		if (app.layer == newMode) return false;
		app.layer = newMode;
		methodSelector();
		break;
	case (tabName.match(/_depo$/) || {})
	.input:
		app.deposit_type = tabName.split('_depo')[0];
		application['component']['deposit']['function']['updatePaymentMethods']();
		break;
	case 'packaging':
		if (DTAB && app.user.package) {
			let dpack = app.user.package;
			DTAB.getElementsByTagName('h2')[0].innerText = dpack.duration;
			DTAB.getElementsByTagName('h2')[1].innerText = dpack.concurrents;
			DTAB.getElementsByTagName('h2')[2].innerText = language()
				.shop.text.STRENGTH[dpack.strength - 1];
			DTAB.getElementsByTagName('h2')[3].innerText = `${Math.ceil((Util.humanDate(dpack.expire).getTime()-new Date().getTime())/(864e5))} ${language().index.DAYSLEFT}`;
		}
		break;
	}
}
let router = new SPA();
let rut = new Routes();
Util.humanTime = timestamp => {
	return new Date(Util.getTime() - Date.now() + timestamp)
		.toLocaleString('en-US', {
			hour: 'numeric'
			, minute: 'numeric'
			, hour12: true
		});
}
Util.humanDate = timestamp => {
	return new Date(Util.getTime() - Date.now() + timestamp);
};
const capitalize = (s) => {
	if (typeof s !== 'string') return ''
	return s.charAt(0)
		.toUpperCase() + s.slice(1)
}
/*class App {
	constructor() {
		this.ele = document.createElement("main");
		this.live_attacks = [];
		this.attacks = [];
		this.loader = document.createElement("loader");
		this.loader.innerHTML = '<svg id="loadersvg" viewBox="0 0 999.1 951.5"><defs><style>.cls-1{stroke-miterlimit:25;stroke-width:50px;fill:url(#linear-gradient);stroke:url(#linear-gradient-2);}.cls-2{opacity:0.14;}.cls-3{fill:url(#linear-gradient-3);}.cls-4{fill:url(#linear-gradient-4);}.cls-5{fill:url(#linear-gradient-5);}.cls-6{fill:url(#linear-gradient-6);}.cls-7{fill:url(#linear-gradient-7);}.cls-8{fill:url(#linear-gradient-8);}.cls-9{fill:url(#linear-gradient-9);}</style><linearGradient id="linear-gradient" x1="281.44" y1="81.56" x2="600.81" y2="767.76" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fff"/><stop offset="1" stop-color="#bfbfbf"/></linearGradient><linearGradient id="linear-gradient-2" x1="0.47" y1="453.34" x2="999.61" y2="453.34" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#016c85"/><stop offset="0.1" stop-color="#026a89"/><stop offset="0.19" stop-color="#076594"/><stop offset="0.27" stop-color="#0e5da6"/><stop offset="0.35" stop-color="#1951c0"/><stop offset="0.43" stop-color="#2642e1"/><stop offset="0.45" stop-color="#2a3eea"/><stop offset="0.54" stop-color="#3239e7"/><stop offset="0.69" stop-color="#492be0"/><stop offset="0.88" stop-color="#6e15d3"/><stop offset="1" stop-color="#8a04ca"/></linearGradient><linearGradient id="linear-gradient-3" x1="58.27" y1="940.39" x2="476.21" y2="602.26" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#01303f"/><stop offset="0.18" stop-color="#0f3456"/><stop offset="0.56" stop-color="#343d91"/><stop offset="1" stop-color="#6449de"/></linearGradient><linearGradient id="linear-gradient-4" x1="614.34" y1="361.66" x2="338.77" y2="1060.25" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#6824d5"/><stop offset="0.26" stop-color="#5138cd"/><stop offset="0.81" stop-color="#176cb7"/><stop offset="1" stop-color="#017faf"/></linearGradient><linearGradient id="linear-gradient-5" x1="726.77" y1="380.53" x2="678.83" y2="467.53" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#5e08c3"/><stop offset="0.42" stop-color="#621dcf"/><stop offset="1" stop-color="#6940e2"/></linearGradient><linearGradient id="linear-gradient-6" x1="411.69" y1="479.69" x2="403.98" y2="516.93" gradientTransform="matrix(1.01, -0.02, 0.01, 0.96, -18.16, 5.96)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#3b2dc0"/><stop offset="0.65" stop-color="#4344cf"/><stop offset="1" stop-color="#4852d8"/></linearGradient><linearGradient id="linear-gradient-7" x1="745.51" y1="420.78" x2="399.86" y2="438.24" gradientUnits="userSpaceOnUse"><stop offset="0.4" stop-color="#3d1ab8"/><stop offset="0.69" stop-color="#4631c8"/><stop offset="1" stop-color="#524ddb"/></linearGradient><linearGradient id="linear-gradient-8" x1="632.26" y1="324.39" x2="586.6" y2="114.27" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#413cca"/><stop offset="0.29" stop-color="#5b34d5"/><stop offset="0.92" stop-color="#9e20f0"/><stop offset="1" stop-color="#a71df4"/></linearGradient><linearGradient id="linear-gradient-9" x1="522.23" y1="429.45" x2="471.85" y2="69.89" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#2c38bc"/><stop offset="0.23" stop-color="#4333c7"/><stop offset="0.72" stop-color="#7d27e2"/><stop offset="1" stop-color="#a21ff3"/></linearGradient></defs><g id=""><path class="cls-1" d="M158.4,711H831.7c90.5,0,163.9-74.1,163.9-165.4h0c0-82.5-66.2-149.4-148-149.4H791v-17c0-75.9-60.9-137.4-136-137.4,0,0-33.2-7-96.4,34.1h0S500,203.7,419.3,195.7H389.8c-104.2,0-188.7,85.3-188.7,190.5v10H152.4C70.7,396.2,4.5,463.1,4.5,545.6v10C4.5,641.4,73.4,711,158.4,711Z" transform="translate(-0.5 -20.1)"/></g><g><polygon class="cls-2" points="79.4 951.5 905.3 497.5 522.6 407.3 848.6 48.5 145.3 471.7 511.5 561.1 79.4 951.5"/><polygon class="cls-3" points="67.5 918.7 681.9 488.5 508.1 523.8 67.5 918.7"/><polygon class="cls-4" points="902.9 459.4 677 488.5 67.5 918.7 902.9 459.4"/><polygon class="cls-5" points="511.4 368.2 675.4 489.1 905.3 459.9 511.4 368.2"/><polygon class="cls-6" points="126.4 432.3 687.8 486.7 510.4 529.6 126.4 432.3"/><polygon class="cls-7" points="677 488.5 515.8 368.2 134.2 433.3 677 488.5"/><polygon class="cls-8" points="845.6 5.3 365.5 397.9 511.2 373.1 845.6 5.3"/><polygon class="cls-9" points="134.2 437.7 851.3 0 374.1 396.1 134.2 437.7"/></g></svg>';
		this.loader.state = false;
		this.name = capitalize(location.hostname);
		this.telegram = 'heydoscc';
		//document.body.appendChild(this.loader);
		my = this.ele;
		this.panel = false;
		this.onlines = 1;
		this.layer = '7';
		this.opt = {
			'7': {
				method: "GET"
				, country: "ALL"
				, headers: {}
			}
			, '4': {}
			, '3': {}
		}
		this.method = lsg('method' + this.layer);
		this.loader.anim = new Vivus('loadersvg', {
			duration: 100
			, reverseStack: true
			, type: 'sync'
		});
		this.loader.start = () => {
			this.loader.state = true;
			this.loader.anim.getStatus() == 'end' ? this.loader.anim.stop()
				.reset()
				.play(1) : this.loader.anim.reset();
			this.loader.classList.remove('closing');
			this.loader.classList.remove('closed');
		}
		this.loader.stop = () => {
			this.loader.state = false;
			setTimeout(() => {
				this.loader.anim.stop()
					.play(3);
				this.loader.classList.add('closing');
			}, 500);
			setTimeout(() => {
				this.loader.anim.finish()
					.stop();
				this.loader.classList.remove('closing');
				this.loader.classList.add('closed');
			}, 1200);
		}
		this.loader.toggle = () => {
			!this.loader.state ? this.loader.start() : this.loader.stop();
		}
		this.pinger = setInterval(() => {
			se('ping');
		}, 50e3);
		document.body.appendChild(this.ele);
		this.connect();
		window.addEventListener("resize", () => {
			this.resize();
		});
		window.addEventListener("click", e => {});
		window.addEventListener("scroll", e => {});
	}
	parseattack() {
		tests.innerHTML = '';
		if (app.attacks.length > 0) {
			app.attacks.forEach(atest => {
				let tr = tests.insertRow();
				let curTime = Util.getTime() + 350;
				tr.setAttribute('atk', atest._id);
				tr.className = atest.expire > curTime ? 'running' : 'stopped';
				if (atest.expire > curTime) {
					tr.innerHTML = `<td><i class="fal fa-location"></i> ${atest.address}</td><td><i class="fad fa-stopwatch"></i> <span>${~~((atest.expire-curTime)/1000)}</span>s</td><td><button class="buttonb stop"><i class="fas fa-stop"></i></button></td>`;
					tr.getElementsByTagName('button')[0].onclick = () => se('stop', atest._id);
				} else {
					tr.innerHTML = `<td><i class="fal fa-location"></i> ${atest.address}</td><td><i class="fad fa-stopwatch"></i> <span>${atest.duration}</span>s</td><td><button class="buttonb renew"><i class="fas fa-redo"></i></button></td>`;
					tr.getElementsByTagName('button')[0].onclick = () => cb(res => {
						if (res[0]) {
							egoz.success('Attack was renewed successfully');
						} else {
							if (res[1] === 'cooldown') {
								app.cooldown(res[2]);
								return;
							}
							egoz.error(res[1])
						}
					}, 'relaunch', atest._id);
				}
				tr.addEventListener('contextmenu', function (e) {
					e.preventDefault();
					menu.style.height = 'auto';
					menu.style.width = 'auto';
					menu.innerHTML = '<li>Copy address</li>';
					[...menu.children][0].onclick = () => {
						copy(atest.address);
					}
					setPosition(e.pageY, e.pageX);
				});
			});
		} else {
			let tr = tests.insertRow();
			tr.innerHTML = '<td><center><i class="fad fa-times fa-2x"></i> Empty attacks history</center></td>';
		}
	}
	deposit_bitcoin() {
		cb(res => {
			app.loader.stop();
			if (res[0]) {
				if (location.hash == '#/deposit' && res[1].amount) {
					$('#btcermodal .btcQR')[0].src = `https://chart.googleapis.com/chart?chs=150x150&cht=qr&chl=bitcoin:${res[1].address}?amount=${res[1].amount}`;
					$('#btcermodal .plzsend')[0].innerHTML = 'Please send <b>' + res[1].amount + ' BTC</b> to address:';
					$('#btcermodal .addy')[0].innerHTML = res[1].address;
					app.btc = res[1];
					Showmodal('btcermodal');
				}
			} else {
				egoz.error(res[1]);
			}
		}, 'deposit/btc', parseInt(deposit_amount.value));
	}
	deposit_funpay(channelCode) {
		const xhr = new XMLHttpRequest();
		xhr.open('POST', HOST + '/payment/funpay/initialize.json');
		xhr.setRequestHeader('Content-Type', 'application/json');
		xhr.onload = function () {
			app.loader.stop();
			const response = JSON.parse(xhr.responseText);
			if (!response['success']) {
				egoz.error('Payment gateway returned unexpected message: ' + response['message']);
				return;
			}
			window.location.replace(HOST + '/payment/funpay/initialredirect.html?order_id=' + response['order_id']);
		};
		xhr.send(JSON.stringify({
			'username': app.user.username
			, 'channel_code': channelCode
			, 'amount_usd': deposit_amount.value
		}));
	}
	deposit() {
		if (parseInt(deposit_amount.value) > deposit_amount.max || parseInt(deposit_amount.value) < deposit_amount.min) {
			egoz.error('The amount range for this payment method is between $' + deposit_amount.min + ' - $' + deposit_amount.max + ' <small>USD</small>.');
			return;
		}
		app.loader.start();
		switch (payment_method.value) {
		case 'bitcoin':
			app.deposit_bitcoin()
			break;
		case 'wechatpay':
			app.deposit_funpay(902);
			break;
		case 'alipay':
			app.deposit_funpay(903);
			break;
		case 'unionpay':
			app.deposit_funpay(906);
			break;
		}
	}
	cooldown(msLeft) {
		let timerInterval;
		Swal.fire({
				title: 'Cooldown!'
				, html: 'Please wait <b></b> seconds.'
				, timer: msLeft
				, timerProgressBar: true
				, onBeforeOpen: () => {
					Swal.showLoading();
					timerInterval = setInterval(() => {
						Swal.getContent()
							.querySelector('b')
							.textContent = ~~(Swal.getTimerLeft() / 1e3)
					}, 1e3)
				}
				, onClose: () => {
					clearInterval(timerInterval)
				}
			})
			.then((result) => {
				if (result.dismiss === Swal.DismissReason.timer) {
					sb('Cooldown passed.');
				}
			})
	}
	'launch/3'(cx) {
		Swal.fire({
			icon: 'error'
			, title: 'Layer 3 maintenance...'
			, text: 'Layer 3 is under maintenance!'
			, footer: '<a href="#/support">Why do I have this issue?</a>'
		})
		cx(false);
	}
	'launch/4'(cx) {
		let options = {}
		cb(res => {
			if (res[0]) {
				egoz.success('Attack was sent successfully');
			} else {
				if (res[1] === 'cooldown') {
					this.cooldown(res[2]);
					return;
				}
				egoz.error(res[1]);
			}
			cx(res[0]);
		}, 'launch/4', daddress.value, this.method, dduration.value, options, dport.value);
	}
	'launch/7'(cx) {
		cb(res => {
			if (res[0]) {
				egoz.success('Attack was sent successfully');
			} else {
				if (res[1] === 'cooldown') {
					this.cooldown(res[2]);
					return;
				}
				egoz.error(res[1]);
			}
			cx(res[0]);
		}, 'launch/7', daddress.value, this.method, dduration.value, app.opt['7']);
	}
	spa(hash) {
		const topage = hash[0] == '#' ? hash.substr(2)
			.toLowerCase() : hash;
		if (!hash) {
			hash = "#/";
		}
		if (location.hash !== hash) {
			location.hash = hash;
		}
[...$(`.menu`)].forEach(ele => {
			[...ele.children].forEach(ele2 => {
				ele2.classList.remove('on');
				let paging = ele2.getAttribute("paging");
				let dhref = ele2.href;
				if (paging && paging.endsWith(hash.toLowerCase()) || dhref && dhref.endsWith(hash.toLowerCase())) {
					ele2.classList.add('on');
				}
			});
		});
		if (window.innerWidth < 1e3) {
			if (document.body.className.indexOf('mobile-menu') !== -1) {
				document.body.classList.remove('mobile-menu');
			}
		}
		if (topage == "") {
			router('home');
		} else {
			if (pages.indexOf(topage) == -1) {
				this.spa("#/");
			} else {
				router(topage);
			}
		}
	}
	decode(arrayBuffer) {
		let uint8 = new Uint8Array(arrayBuffer);
		let buf = new DataView(uint8.buffer);
		buf = rotateMessage(buf, this.key);
		let str = MessagePack.decode(buf);
		return str;
	}
	encode(data) {
		let bytes = MessagePack.encode(data);
		let buf = new DataView(new Uint8Array(bytes)
			.buffer);
		buf = rotateMessage(buf, this.key);
		return new Uint8Array(buf);
	}
	connect() {
		this.loader.start();
		this.ws = new WebSocket('wss://' + WS_HOST_ADDRESS + '/b1');
		this.ws.binaryType = 'arraybuffer';
		this.ws.auth = false;
		this.key = false;
		this.ws.onopen = () => {}
		if (conn.t) {
			this.ws.onmessage = msg => {
				let asd = der(msg.data, hashCode('O0EWN3UI3JZFjcGRmWkxvroZfLJo+DrGMMg9R7RxhcU='));
				this.key = getKey(asd);
				se('hey', conn.t);
				this.ws.onmessage = amsg => {
					conn.message(this.decode(amsg.data));
				}
			}
		} else {
			this.ws.onmessage = msg => {
				this.key = getKey(der(msg.data, hashCode(navigator.userAgent)));
				conn.t = broofa();
				lss('t', conn.t);
				se('hey', conn.t);
				this.ws.onmessage = amsg => {
					conn.message(this.decode(amsg.data));
				}
			}
		}
		this.ws.onclose = () => {
			conn.status = false;
			conn.close();
			conn.state();
			sb('Disconnected.')
			setTimeout(() => {
				this.connect();
			}, 5e3);
		}
	}
	paneler() {
		if (!this.panel) {
			this.panel = true;
		} else {
			this.ele2.remove();
		}
		window.onhashchange = this.hashHandler;
		app.loader.start();
		cb(res => {
			document.title = this.name;
			this.live_attacks = res[0];
			this.ele2 = document.createElement("app");
			this.nav = document.createElement("nav");
			this.nav.innerHTML = `<a href="#/" class="site"><i class="x-logo head"></i><span>${app.name}</a></span><i class="fad fa-bars" id="mobilemenu"></i>
			<div class="menu"><a href="#/"><i class="fad fa-rocket"></i> ${language().index.HUB}</a><a href="#/deposit"><i class="fad fa-wallet"></i> ${language().index.DEPOSIT}</a><a href="#/shop"><i class="fad fa-shopping-cart"></i> ${language().index.SHOP}</a><a href="#/support"><i class="fad fa-question"></i> ${language().index.SUPPORT}</a><a href="#/api"><i class="fad fa-user-robot"></i> API</a><a target="_blank" href="https://t.me/${app.telegram}"><i class="fab fa-telegram"></i></a>
			<div class="account" modaling="settingsmodal"><i class="fad fa-hand-pointer"></i> <span class="app_user_username"></span><span class="ubalance"><i class="fas fa-coins"></i>$ <b class="app_user_credits"></b></span></div><a class="logouter" href="#/logout"><i class="fad fa-sign-out-alt"></i></a>
			</div>`;
			this.settingsModal = document.createElement('modal');
			this.settingsModal.id = 'settingsmodal';
			this.settingsModal.innerHTML = `
			<i class="close"></i>
				<div class="settingsselect tabso">
					<span class="tab active" tabbing="accounting"><i class="fas fa-user-circle"></i> ${language().index.ACCOUNT}</span>
					<span class="tab" tabbing="packaging"><i class="fas fa-box"></i> ${language().index.PACKAGE}</span>
				</div>
				<tab class="active" name="accounting">
					<label for="mypass"><i class="fad fa-key"></i> ${language().index.CHANGEPASSWORD}</label>
					<fieldset class="material passchange">
					<input id="mypass" placeholder="" type="password" spellcheck="false" autocomplete="new-password" required>
				<hr>
				<label>${language().index.NEWPASSWORD}</label>
			</fieldset>
					<button class="confirmer" id="updateacc"><i class="fad fa-user-edit"></i> ${language().index.UPDATE}</button>
				</tab>
				<tab class="packageinfo" name="packaging">
					<div class="row"><div class="col">
					<h1><i class="fad fa-user-clock"></i> ${language().index.MAXIMUMDURATION}</h1>
					<h2></h2>
					</div>
					<div class="col">
					<h1><i class="fad fa-plug"></i> ${language().index.CONCURRENTS}</h1>
					<h2></h2>
					</div></div>
					<div class="row">
					<div class="col">
					<h1><i class="fad fa-network-wired"></i> ${language().index.NETWORK}</h1>
					<h2></h2>
					</div>
					<div class="col">
					<h1><i class="fad fa-hand-holding-water"></i> ${language().index.EXPIRYDATE}</h1>
					<h2></h2>
					</div>
					</div>
				</tab>`;
			this.ele2.appendChild(this.settingsModal);
			this.ele2.appendChild(this.nav);
			document.body.appendChild(this.ele2);
			mobilemenu.onclick = () => {
				document.body.classList.toggle('mobile-menu')
			}
			updateacc.onclick = () => {
				this.loader.start();
				cb(res => {
					this.loader.stop();
					if (res[0]) {
						app.user = res[1];
						sb('Updated successfully');
					} else {
						sb(res[1]);
					}
				}, 'user/update', {
					password: mypass.value || false
				})
			}
			this.spa(location.hash);
			this.renderLive2();
			this.loader.stop();
			document.body.classList.remove('landing');
		}, 'panel');
	}
	renderLive(atest, priority = 0) {
		let tr = liveattacks.insertRow(priority);
		tr.innerHTML = `<td><i class="fad fa-bullseye-arrow"></i> ${atest.address}</td><td><i class="fad fa-alarm-clock"></i> ${atest.duration}s</td><td><i class="fad fa-calendar-week"></i> ${Util.humanTime(atest.when)}</td><td><span class="buttonb feed"><i class="${atest.layer=='7'?'fad fa-browser':atest.layer=='4'?'fad fa-wifi-slash':false}"></i></span></td>`;
	}
	renderLive2() {
		if (typeof liveattacks !== 'undefined') {
			liveattacks.innerHTML = '';
			app.live_attacks.forEach(atest => {
				app.renderLive(atest);
			});
		}
	}
	landing(data) {
		if (this.panel) {
			this.panel = false;
			this.ele2.remove();
		}
		let [stats] = data;
		document.body.classList.add('landing');
		my.innerHTML = `
<div class="yoo">
	<i class="x-logo land"></i>
	<div class="authing">
	<h1>${language().index.WELCOMETO} ${app.name}</h1>
	<small id="progress">${language().index.LOGINPROMPTTEXT}</small><br>
	<input id="usernamei" autocomplete="off" placeholder="${language().index.USERNAME}" type="text" spellcheck="false" required>
	<input id="passwordi" autocomplete="off" placeholder="${language().index.PASSWORD}" type="password" required><button class="buttona" id="next"><i class="fad fa-arrow-right"></i></button>
	</div>
	<div id="landingstats">
	<h1><b>${stats.customers.toLocaleString()}</b><i class="fad fa-users-crown"></i> ${language().index.CUSTOMERS}</h1>
	<h1><b>${stats.attacks.toLocaleString()}</b><i class="fad fa-comet"></i> ${language().index.TOTALATTACKS}</h1>
	<h1><b>${stats.running.toLocaleString()}</b><i class="fad fa-circle-notch fa-spin"></i> ${language().index.RUNNINGATTACKS}</h1>
	<h1><b>${stats.users.toLocaleString()}</b><i class="fad fa-user-visor"></i> ${language().index.USERS}</h1>
	<h1><b class="oncount">${app.onlines}</b><i class="fad fa-user-astronaut"></i> ${language().index.ONLINEUSERS}</h1>
  </div></div>
  <img class="concept" src="assets/images/concept.png">
	</div>
	<div class="footer">
		<div class="footer-text">

			<div class="footer-urls">
				<div class="footer-url-header"><i class="fad fa-id-card-alt"></i> ${language().index.CONTACT}</div>
				<div class="footer-url-content"><a href="https://t.me/${app.telegram}"><i class="fab fa-telegram"></i> Telegram</a></div>
			</div>

			<div class="footer-urls">
				<div class="footer-url-header"><i class="fad fa-link"></i> ${language().index.LINKS}</div>
				<div class="footer-url-content"><a href="/terms.txt" target="_blank"><i class="fad fa-book"></i> Terms of Service</a></div>
			</div>

			<div class="footer-copyright-header"><i class="x-logo small"></i> ${app.name}</div>
			<div class="footer-copyright"><i class="fad fa-copyright"></i> ${language().index.COPYRIGHT} Â© ${app.name} 2020. <i class="fad fa-registered"></i> ${language().index.COPYRIGHT_RIGHT_RESERVED}</div>
		</div>
		<br>`;
		let disc = lsg('disclaimer');
		if (disc !== 'true') {
			let disclaimermodale = document.createElement('modal');
			disclaimermodale.id = 'disclaimermodal';
			disclaimermodale.innerHTML = `<h1><i class="fas fa-engine-warning"></i> Disclaimer</h1>
			<hr>
			<b>${app.name}</b> is a paid stress-testing service which was intended for educational and testing purposes only.
			<br> This service is not meant to be used, nor should it be used, to stress an network that is not owned by the user.
			<br> This service is strictly for testing your own website(s), server(s), data-center(s), home network(s), etc.
			<br> The ${app.name} team are not liable for any damage caused by the misuse of the stresser by a user.
			<br> Users use ${app.name} at their own risk. Security testing is a key part of building a professional website, server, etc. This can be done by using the ${app.name} stresser as intended, for this purpose only.
			<br>
			<small>By clicking "I Agree" you accept/agree these terms written in this notice including our full Terms of Service documentation</small>
			<br>
			<a href="/terms.txt" target="_blank"><i class="fas fa-book"></i> Terms of Service</a>
			<button class="buttonc" id="agree_disclaimer"><i class='icon-send'></i> Accept</button>`;
			my.appendChild(disclaimermodale);
			blurred.classList.add('not');
			Showmodal('disclaimermodal');
			agree_disclaimer.onclick = () => {
				lss('disclaimer', 'true');
				blurred.classList.remove('not');
				Closemodal();
			}
		}
		var myusername, mypassword, stage = 0;
		next.onclick = () => {
			switch (stage) {
			case 0:
				myusername = usernamei.value;
				anime({
					targets: usernamei
					, translateY: -100
					, opacity: 0
					, scale: 1.2
				});
				usernamei.blur();
				cb(res => {
					anime({
						targets: progress
						, scale: 1.2
						, duration: 1500
						, easing: 'easeInOutQuad'
						, direction: 'alternate'
					});
					if (res[0]) {
						progress.innerText = `${language().index.LOGINAS} ${myusername}`;
						passwordi.placeholder = language()
							.index.YOURPASSWORD;
					} else {
						progress.innerText = `${language().index.REGISTERAS} ${myusername}`;
						passwordi.placeholder = language()
							.index.NEWPASSWORD;
					}
					setTimeout(() => {
						usernamei.style.display = 'none';
						passwordi.style.display = 'inline-block';
						setTimeout(() => {
							passwordi.focus()
						}, 100);
						anime({
							targets: next
							, translateX: 0
						});
					}, 500);
				}, 'user/check', myusername);
				anime({
					targets: next
					, translateX: 80
				});
				stage = 1;
				break;
			case 1:
				anime({
					targets: next
					, translateY: -50
				});
				mypassword = passwordi.value;
				anime({
					targets: passwordi
					, translateY: -100
					, opacity: 0
					, scale: 1.2
				});
				passwordi.blur();
				cb(res => {
					if (res[0]) {
						app.user = res[1];
						if (res[2]) {
							sb(res[2]);
						}
						progress.innerHTML = language()
							.index.LOGINSUCCESS;
						next.disabled = true;
						setTimeout(() => {
							my.innerHTML = '';
							app.paneler();
						}, 1500);
					} else {
						setTimeout(() => {
							usernamei.style = '';
							passwordi.style = '';
							anime.remove(usernamei);
							anime.remove(passwordi);
							anime({
								targets: next
								, translateY: 0
							});
							anime({
								targets: progress
								, scale: 1.3
								, duration: 1500
								, easing: 'easeInOutQuad'
								, direction: 'alternate'
							});
							progress.innerHTML = 'Insert your username to login or create an account';
							usernamei.focus();
						}, 300);
						next.innerHTML = '<i class="fad fa-arrow-right"></i>';
						next.disabled = false;
						egoz.error(res[1]);
					}
				}, 'user/auth', myusername, mypassword);
				next.innerHTML = `<i class="fad fa-sync fa-spin"></i>`;
				next.disabled = true;
				stage = 0;
				break;
			default:
				stage = 0;
				break;
			}
		}
		
		function keypresser(event) {
			if (event.keyCode == 13 || event.which == 13) {
				next.click();
			}
		};
		usernamei.onkeypress = keypresser;
		passwordi.onkeypress = keypresser;
	}
	hashHandler() {
		app.spa(location.hash);
	}
	run() {}
	resize() {}
	update() {
		app.spa(location.hash);
	}
	render() {
		$(`[modaling]`)
			.forEach(ele => {
				if (!ele.onclick) ele.onclick = () => Showmodal(ele.getAttribute('modaling'));
			});
		$(`[paging]`)
			.forEach(ele => {
				if (!ele.onclick) ele.onclick = () => app.spa(ele.getAttribute('paging'));
			});
		$(`[tabbing]`)
			.forEach(ele => {
				if (!ele.onclick) ele.onclick = () => tab(ele.getAttribute('tabbing'));
			});
		$('.oncount')
			.forEach(ele => {
				ele.innerText = this.onlines
			});
		$('.app_user_username')
			.forEach(ele => {
				ele.innerText = app.user.username;
			});
		$('.app_user_credits')
			.forEach(ele => {
				ele.innerText = app.user.credits ? app.user.credits.toLocaleString() : 0;
			});
	}
}
*/
function copy(e) {
	if (window.clipboardData && window.clipboardData.setData) return clipboardData.setData("Text", e);
	if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
		var t = document.createElement("textarea");
		t.textContent = e, t.style.position = "fixed", document.body.appendChild(t), t.select();
		try {
			document.execCommand("copy")
			egoz.success('Copied!');
		} catch (n) {
			egoz.error('Failed to copy!');
		} finally {
			document.body.removeChild(t)
		}
	}
}
var menu = document.createElement('ul');
menu.className = 'custom-menu';
//document.body.appendChild(menu);
var menuVisible = false;

function toggleMenu(command) {
	if (command == 'toggle') {
		if (menu.style.display == "block") {
			menu.style.display = "none";
		} else {
			menu.style.display = "block";
		}
		menuVisible = !menuVisible;
	} else {
		menu.style.display = command === "show" ? "block" : "none";
		menuVisible = "show" ? true : false;
	}
}

function setPosition(top, left) {
	menu.style.top = top + 'px';
	menu.style.left = left + 'px';
	toggleMenu("show");
}
menu.onclick = () => {
	toggleMenu('hide');
}
let sb = msg => {
	snackbar.innerText = msg, snackbar.className = 'show';
	setTimeout(() => {
		snackbar.className = '';
	}, 3e3);
}
//document.body.insertAdjacentHTML('afterbegin', `<div id="snackbar"></div><div id="blurred"></div>`);
/*blurred.onclick = () => {
	if (!blurred.classList.contains('not')) {
		Closemodal();
	}
}*/

/*let app = new App();
app.run();*/
